# つくばキョン目撃情報 API

このAPIサーバーは、つくば市内でのキョン（ホンシュウジカの一種）の目撃情報をCSVからJSONに変換し、RESTful APIとして提供します。

## 概要

- CSVファイル「つくばのキョン目撃情報- 市内での目撃事例.csv」からデータを読み込みます
- 位置情報（WKT形式）、地名、説明（日時含む）をJSON形式に変換します
- Flask Web APIを通じてデータにアクセスできます
- 地図表示用の座標データを取得するエンドポイントも提供します

## 必要環境

- Python 3.6以上
- Flask
- Requests (デモスクリプト用)

## インストール

必要なパッケージをインストールします：

```bash
pip install flask requests
```

## 使い方

### サーバーの起動

```bash
python kyun_api_server.py
```

サーバーはデフォルトで `http://localhost:5000` で起動します。

### API利用例の実行

```bash
python kyun_api_demo.py
```

## API エンドポイント

### 1. 全目撃情報の取得

```
GET /api/kyun/sightings
```

全てのキョン目撃情報をJSONで返します。

### 2. 地域名での検索

```
GET /api/kyun/sightings/<location_name>
```

指定した地域名を含む目撃情報を返します。例: `/api/kyun/sightings/みどりの東`

### 3. 地図表示用の座標データ取得

```
GET /api/kyun/coordinates
```

全ての目撃位置の座標データを、地図表示に適した形式で返します。

## レスポンス形式

各APIエンドポイントからのレスポンスは以下の形式です：

```json
{
  "status": "success",
  "count": データ数,
  "data": [
    {
      // データ内容
    }
  ]
}
```

## 開発・拡張

このAPIは基本的な機能を提供していますが、以下のような拡張が可能です：

- 日付での検索フィルタリング
- 座標範囲内のデータ検索
- 認証機能の追加
- フロントエンドマップビュアーの開発

## データについて

サンプルデータは「つくばのキョン目撃情報- 市内での目撃事例.csv」を使用しています。データは、WKT形式の位置情報、地域名、目撃日時を含む説明文から構成されています。
